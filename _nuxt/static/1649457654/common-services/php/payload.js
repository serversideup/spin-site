__NUXT_JSONP__("/common-services/php", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad){return {data:[{document:{slug:H,description:"",title:K,position:6.4,category:"Common Services",toc:[{id:L,depth:u,text:M},{id:N,depth:u,text:O},{id:P,depth:u,text:"Base: docker-compose.yml"},{id:Q,depth:u,text:"Development: docker-compose.dev.yml"},{id:R,depth:S,text:T},{id:I,depth:S,text:U},{id:B,depth:u,text:V},{id:W,depth:u,text:X}],body:{type:"root",children:[{type:b,tag:v,props:{id:L},children:[{type:b,tag:h,props:{href:"#about",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:M}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{href:"https:\u002F\u002Fwww.php.net\u002F",rel:[w,x,y],target:z},children:[{type:a,value:K}]},{type:a,value:" is a popular general-purpose scripting language that is especially suited to web development. Fast, flexible and pragmatic, PHP powers everything from your blog to the most popular websites in the world."}]},{type:a,value:f},{type:b,tag:v,props:{id:N},children:[{type:b,tag:h,props:{href:"#installation--basic-usage",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:O}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Please see the "},{type:b,tag:"nuxt-link",props:{to:"\u002Fgetting-started\u002Fintroduction"},children:[{type:a,value:"Introduction & Concepts"}]},{type:a,value:", then reference the examples below on adding this service to your project."}]},{type:a,value:f},{type:b,tag:v,props:{id:P},children:[{type:b,tag:h,props:{href:"#base-docker-composeyml",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Base: "},{type:b,tag:l,props:{},children:[{type:a,value:Y}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Add this section to your main "},{type:b,tag:l,props:{},children:[{type:a,value:Y}]},{type:a,value:" file, which will act as a \"base\". All environments will reference this file, so you can simply manage everything from one location."}]},{type:a,value:f},{type:b,tag:C,props:{className:[D]},children:[{type:b,tag:E,props:{className:[F,G]},children:[{type:b,tag:l,props:{},children:[{type:a,value:Z},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"image"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" serversideup\u002Fphp"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"8.1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"fpm"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"nginx\n"}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"Feel free to use whatever PHP image that you want, but we use our own open source PHP images ("},{type:b,tag:h,props:{href:"https:\u002F\u002Fhub.docker.com\u002Fr\u002Fserversideup\u002Fphp",rel:[w,x,y],target:z},children:[{type:a,value:"serversideup\u002Fphp"}]},{type:a,value:") to serve our applications."}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"This follows Chris Fidao's methodology from "},{type:b,tag:h,props:{href:"https:\u002F\u002Fserversforhackers.com\u002Fshipping-docker",rel:[w,x,y],target:z},children:[{type:a,value:"Shipping Docker"}]},{type:a,value:", where everything is packaged into one application image. This means PHP-FPM + NGINX + Your App can be delivered all at once in a single Docker image, making it very easy for you to make your application disposable and repeatable. PHP-FPM + NGINX are delivered together because of some special intricacies with how PHP-FPM reads files. "},{type:b,tag:h,props:{href:"https:\u002F\u002Fgithub.com\u002Fserversideup\u002Fdocker-php\u002F",rel:[w,x,y],target:z},children:[{type:a,value:"See our README on our PHP images"}]},{type:a,value:" for more detail."}]},{type:a,value:f},{type:b,tag:"h4",props:{id:"versions"},children:[{type:b,tag:h,props:{href:"#versions",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Versions"}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{href:"https:\u002F\u002Fhub.docker.com\u002Fr\u002Fserversideup\u002Fphp\u002F",rel:[w,x,y],target:z},children:[{type:a,value:"See the official serversideup\u002Fphp DockerHub page"}]},{type:a,value:" for specific version references."}]},{type:a,value:f},{type:b,tag:v,props:{id:Q},children:[{type:b,tag:h,props:{href:"#development-docker-composedevyml",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Development: "},{type:b,tag:l,props:{},children:[{type:a,value:"docker-compose.dev.yml"}]}]},{type:a,value:f},{type:b,tag:C,props:{className:[D]},children:[{type:b,tag:E,props:{className:[F,G]},children:[{type:b,tag:l,props:{},children:[{type:a,value:Z},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" web"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"dev\n    "},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"volumes"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" ."},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\u002Fvar\u002Fwww\u002Fhtml\u002F"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"cached\n    "},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"# Example dependencies for other services. Remove below if not needed"}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"depends_on"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"mariadb\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik\""}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,_]},children:[{type:a,value:"# Remove the ports if you are using something like Trafeik or Caddy (recommended)"}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"target"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:aa}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"published"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:aa}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"mode"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:" host\n"}]}]}]},{type:a,value:f},{type:b,tag:ab,props:{id:R},children:[{type:b,tag:h,props:{href:"#commands",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:T}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"You can see the \"command:\" calls to run "},{type:b,tag:l,props:{},children:[{type:a,value:"yarn dev"}]},{type:a,value:". This may need to be changed, depending on your project (and if you are using "},{type:b,tag:l,props:{},children:[{type:a,value:"npm"}]},{type:a,value:" or "},{type:b,tag:l,props:{},children:[{type:a,value:"yarn"}]},{type:a,value:")."}]},{type:a,value:f},{type:b,tag:ab,props:{id:I},children:[{type:b,tag:h,props:{href:"#ports",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:U}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"The example above directly exposes the NGINX server on port 443. You'll likely never do that in production. If you use something like Traefik, you would replace the ports with "},{type:b,tag:l,props:{},children:[{type:a,value:ac}]},{type:a,value:", like this:"}]},{type:a,value:f},{type:b,tag:C,props:{className:[D]},children:[{type:b,tag:E,props:{className:[F,G]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"    "},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.enable=true\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.http.routers.myphpapp.rule=Host(`myphpapp.dev.test`)\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.http.routers.myphpapp.entrypoints=websecure\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.http.routers.myphpapp.tls=true\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.http.services.myphpapp.loadbalancer.server.port=443\""}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:n},{type:b,tag:c,props:{className:[d,t]},children:[{type:a,value:"\"traefik.http.services.myphpapp.loadbalancer.server.scheme=https\""}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"The "},{type:b,tag:l,props:{},children:[{type:a,value:"label"}]},{type:a,value:" adds certain metadata to your container, telling Traefik to route \"myphpapp.dev.test\" to port 443 on your PHP container. All web traffic will enter through Traefik first, then to your PHP container -- which is a more realistic scenario to what you can run in production."}]},{type:a,value:f},{type:b,tag:v,props:{id:B},children:[{type:b,tag:h,props:{href:"#networks",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:V}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"If you copy and paste from above, be sure to define your network at the bottom of the file."}]},{type:a,value:f},{type:b,tag:C,props:{className:[D]},children:[{type:b,tag:E,props:{className:[F,G]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"\n  "},{type:b,tag:c,props:{className:[d,j,k]},children:[{type:a,value:"web-dev"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:v,props:{id:W},children:[{type:b,tag:h,props:{href:"#real-life-example",ariaHidden:p,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:X}]},{type:a,value:f},{type:b,tag:m,props:{},children:[{type:a,value:"See our open source project called "},{type:b,tag:h,props:{href:"https:\u002F\u002Fgithub.com\u002Fserversideup\u002Ffinancial-freedom",rel:[w,x,y],target:z},children:[{type:a,value:"Financial Freedom"}]},{type:a,value:" for more examples."}]}]},dir:"\u002Fen\u002Fcommon-services",path:"\u002Fen\u002Fcommon-services\u002Fphp",extension:".md",createdAt:ad,updatedAt:ad,to:"\u002Fcommon-services\u002Fphp"},prev:{title:"Node",path:"\u002Fen\u002Fcommon-services\u002Fnode",to:"\u002Fcommon-services\u002Fnode"},next:{title:"Redis",path:"\u002Fen\u002Fcommon-services\u002Fredis",to:"\u002Fcommon-services\u002Fredis"}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","\n",":","a","-","key","atrule","code","p"," ","\n      ","true",-1,"icon","icon-link","string",2,"h2","nofollow","noopener","noreferrer","_blank","\n    ","networks","div","nuxt-content-highlight","pre","language-yaml","line-numbers","php","ports","\n        ","PHP","about","About","installation--basic-usage","Installation & Basic Usage","base-docker-composeyml","development-docker-composedevyml","commands",3,"Commands","Ports","Networks","real-life-example","Real-life example","docker-compose.yml","  ","comment","number","443","h3","labels","2022-04-08T22:39:50.991Z")));